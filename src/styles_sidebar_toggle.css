:root{
  /* sidebar width coming from project (several names) */
  --sidebar-var: var(--sidebarW, var(--sidebar-width, 260px));
  --spring: 560ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* layout wrapper anchors the toggle */
.layout { position: relative; }

/* Collapsible behavior of sidebar (kept minimal to avoid layout jumps) */
.sidebar {
  flex: 0 0 var(--sidebar-var);
  width: var(--sidebar-var);
  transition: transform var(--spring);
  will-change: transform;
}
body.sidebar-collapsed .sidebar {
  transform: translateX(calc(-1 * var(--sidebar-var)));
  pointer-events: none;
}

/* Toggle button â€“ themed */
.sidebar-toggle{
  display: grid; place-items: center;
  background: var(--btnBg, #fff);
  color: var(--btnText, #111);
  border: 1px solid var(--btnBorder, rgba(0,0,0,.1));
  box-shadow: 0 6px 20px color-mix(in srgb, var(--bg, #000) 10%, #0000);
  border-radius: 12px;
  cursor: pointer;
  transition: transform 300ms ease, box-shadow 300ms ease, left var(--spring), background 200ms ease, border-color 200ms ease;
  z-index: 60;
}
.sidebar-toggle--sm{ width: 34px; height: 34px; border-radius: 10px; --toggle-w: 34px; }
.sidebar-toggle--md{ width: 40px; height: 40px; --toggle-w: 40px; }

.sidebar-toggle:hover{
  transform: translateY(-1px);
  box-shadow: 0 10px 24px color-mix(in srgb, var(--bg, #000) 20%, #0000);
  background: color-mix(in srgb, var(--btnBg, #fff) 88%, var(--accent, #7aa2ff));
  border-color: color-mix(in srgb, var(--btnBorder, rgba(0,0,0,.1)) 70%, var(--accent, #7aa2ff));
}

/* Icon: hamburger -> X with springy feel */
.sidebar-toggle .bars{ position: relative; width: 18px; height: 12px; display: block; }
.sidebar-toggle .bars i{
  position: absolute; left:0; right:0; height:2px;
  background: currentColor; border-radius:2px;
  transition: transform 400ms cubic-bezier(0.34,1.56,0.64,1), opacity 300ms ease;
}
.sidebar-toggle .bars i:nth-child(1){ top:0; }
.sidebar-toggle .bars i:nth-child(2){ top:5px; }
.sidebar-toggle .bars i:nth-child(3){ top:10px; }
.sidebar-toggle.is-collapsed .bars i:nth-child(1){ transform: translateY(5px) rotate(45deg); }
.sidebar-toggle.is-collapsed .bars i:nth-child(2){ opacity:0; }
.sidebar-toggle.is-collapsed .bars i:nth-child(3){ transform: translateY(-5px) rotate(-45deg); }

/* DOCKING:
   When sidebar is OPEN -> place the button just to the RIGHT of the sidebar (outside).
   When sidebar is CLOSED -> stick to the left edge of the viewport.
*/
.layout .sidebar-toggle--dock{
  position: absolute;
  top: 10px;
  left: calc(var(--sidebar-var) + 8px); /* -> right side of sidebar */
}
body.sidebar-collapsed .layout .sidebar-toggle--dock{
  left: 8px; /* when closed, hug left edge so it's always visible */
}
